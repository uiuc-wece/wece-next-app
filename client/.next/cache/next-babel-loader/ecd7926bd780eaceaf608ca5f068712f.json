{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/eugeniachen/git/wece-next-app/client/pages/join.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/layout\";\nimport SectionBody from \"../components/sectionbody\";\nimport SectionHead from \"../components/sectionhead\";\nimport styles from \"../styles/Forms.module.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { base_url } from \"../constants.js\";\nexport default function Join() {\n  _s();\n\n  var _useState = useState(false),\n      validated = _useState[0],\n      setValidated = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      firstName = _useState2[0],\n      setFirstName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      lastName = _useState3[0],\n      setLastName = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var handleSubmit = function handleSubmit(event) {\n    var url = base_url + \"/subscriber\";\n    var form = event.currentTarget;\n\n    if (event.currentTarget.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n      setValidated(true);\n    } else {\n      event.preventDefault();\n      setValidated(true);\n      var inputs = form.querySelectorAll(\"input\");\n      inputs.forEach(function (input) {\n        return input.disabled = true;\n      });\n\n      var postJoinRequest = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var result;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return axios.post(url, {\n                    firstName: firstName,\n                    lastName: lastName,\n                    email: email\n                  }).then(function (response) {\n                    alert(\"You have been subscribed to the newsletter. Thanks!\");\n                    console.log(response);\n                  })[\"catch\"](function (error) {\n                    alert(\"Error: \" + error.message);\n                  })[\"finally\"](function () {\n                    inputs.forEach(function (input) {\n                      return input.disabled = false;\n                    });\n                    setValidated(false);\n                  });\n\n                case 2:\n                  result = _context.sent;\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function postJoinRequest() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      postJoinRequest();\n    }\n  };\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, __jsx(Container, {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, __jsx(SectionHead, {\n    title: \"Join WECE_\",\n    top: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }), __jsx(SectionBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Sign up here to get weekly newsletters with general meetings, upcoming events, and more.\"), __jsx(Form, {\n    name: \"join-form\",\n    noValidate: true,\n    validated: validated,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"Email\"), __jsx(Form.Control, {\n    required: true,\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"Enter Email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }), __jsx(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"Please enter your email.\")), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"First Name\"), __jsx(Form.Control, {\n    required: true,\n    type: \"text\",\n    name: \"first name\",\n    placeholder: \"First Name\",\n    value: firstName,\n    onChange: function onChange(e) {\n      return setFirstName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), __jsx(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"Please enter your first name.\")), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Last Name\"), __jsx(Form.Control, {\n    required: true,\n    type: \"text\",\n    name: \"last name\",\n    placeholder: \"Last Name\",\n    value: lastName,\n    onChange: function onChange(e) {\n      return setLastName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), __jsx(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, \"Please enter your last name.\")), __jsx(Button, {\n    id: styles[\"submit-form\"],\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"Submit\"))))));\n}\n\n_s(Join, \"tORczT2G3+UYXGVsITBQVLI5hrA=\");\n\n_c = Join;\n\nvar _c;\n\n$RefreshReg$(_c, \"Join\");","map":{"version":3,"sources":["/Users/eugeniachen/git/wece-next-app/client/pages/join.jsx"],"names":["Layout","SectionBody","SectionHead","styles","useState","axios","Container","Form","Button","base_url","Join","validated","setValidated","firstName","setFirstName","lastName","setLastName","email","setEmail","handleSubmit","event","url","form","currentTarget","checkValidity","preventDefault","stopPropagation","inputs","querySelectorAll","forEach","input","disabled","postJoinRequest","post","then","response","alert","console","log","error","message","result","e","target","value"],"mappings":"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","sourcesContent":["import Layout from \"../components/layout\";\nimport SectionBody from \"../components/sectionbody\";\nimport SectionHead from \"../components/sectionhead\";\nimport styles from \"../styles/Forms.module.css\";\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nimport { base_url } from \"../constants.js\";\n\nexport default function Join() {\n  const [validated, setValidated] = useState(false);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  const handleSubmit = (event) => {\n    const url = base_url + \"/subscriber\";\n\n    const form = event.currentTarget;\n\n    if (event.currentTarget.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n      setValidated(true);\n    } else {\n      event.preventDefault();\n      setValidated(true);\n\n      const inputs = form.querySelectorAll(\"input\");\n      inputs.forEach((input) => (input.disabled = true));\n\n      const postJoinRequest = async () => {\n        const result = await axios\n          .post(url, {\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n          })\n          .then((response) => {\n            alert(\"You have been subscribed to the newsletter. Thanks!\");\n            console.log(response);\n          })\n          .catch((error) => {\n            alert(\"Error: \" + error.message);\n          })\n          .finally(() => {\n            inputs.forEach((input) => (input.disabled = false));\n            setValidated(false);\n          });\n      };\n\n      postJoinRequest();\n    }\n  };\n\n  return (\n    <Layout>\n      <div className=\"content\">\n        <Container className=\"section\">\n          <SectionHead title=\"Join WECE_\" top={true} />\n          <SectionBody>\n            <p>\n              Sign up here to get weekly newsletters with general meetings,\n              upcoming events, and more.\n            </p>\n            <Form\n              name=\"join-form\"\n              noValidate\n              validated={validated}\n              onSubmit={handleSubmit}\n            >\n              <Form.Group>\n                <Form.Label>Email</Form.Label>\n                <Form.Control\n                  required\n                  type=\"text\"\n                  name=\"email\"\n                  placeholder=\"Enter Email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                />\n                <Form.Control.Feedback type=\"invalid\">\n                  Please enter your email.\n                </Form.Control.Feedback>\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>First Name</Form.Label>\n                <Form.Control\n                  required\n                  type=\"text\"\n                  name=\"first name\"\n                  placeholder=\"First Name\"\n                  value={firstName}\n                  onChange={(e) => setFirstName(e.target.value)}\n                />\n                <Form.Control.Feedback type=\"invalid\">\n                  Please enter your first name.\n                </Form.Control.Feedback>\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>Last Name</Form.Label>\n                <Form.Control\n                  required\n                  type=\"text\"\n                  name=\"last name\"\n                  placeholder=\"Last Name\"\n                  value={lastName}\n                  onChange={(e) => setLastName(e.target.value)}\n                />\n                <Form.Control.Feedback type=\"invalid\">\n                  Please enter your last name.\n                </Form.Control.Feedback>\n              </Form.Group>\n              {/* <Form.Group controlId=\"formCommitteeInput\">\n                <Form.Label>\n                  Check the committees you are interested in:\n                </Form.Label>\n                <Form.Check\n                  type=\"checkbox\"\n                  name=\"academic\"\n                  value=\"academic\"\n                  label=\"Academic\"\n                />\n                <Form.Check\n                  type=\"checkbox\"\n                  name=\"infrastructure\"\n                  value=\"infrastructure\"\n                  label=\"Infrastructure\"\n                />\n                <Form.Check\n                  type=\"checkbox\"\n                  name=\"marketing\"\n                  value=\"marketing\"\n                  label=\"Marketing\"\n                />\n                <Form.Check\n                  type=\"checkbox\"\n                  name=\"mentorship\"\n                  value=\"mentorship\"\n                  label=\"Mentorship\"\n                />\n                <Form.Check\n                  type=\"checkbox\"\n                  name=\"outreach\"\n                  value=\"outreach\"\n                  label=\"Outreach\"\n                />\n                <Form.Check\n                  type=\"checkbox\"\n                  name=\"social\"\n                  value=\"social\"\n                  label=\"Social\"\n                />\n                <Form.Check\n                  type=\"checkbox\"\n                  name=\"technical\"\n                  value=\"technical\"\n                  label=\"Technical\"\n                />\n              </Form.Group> */}\n              <Button id={styles[\"submit-form\"]} type=\"submit\">\n                Submit\n              </Button>\n            </Form>\n          </SectionBody>\n        </Container>\n      </div>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}